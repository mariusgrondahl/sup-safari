{"version":3,"sources":["../../../../../src/researches/passiveVoice/periphrastic/getSentencePartsSplitOnStopwords.js"],"names":["auxiliariesGerman","allAuxiliaries","stopwordsGerman","stopwordsDutch","auxiliariesDutch","stopwordsPolish","auxiliariesPolish","languageVariables","de","SentencePart","SentencePartGerman","stopwordRegex","auxiliaryRegex","locale","nl","SentencePartDutch","pl","SentencePartPolish","sanitizeMatches","matches","match","splitOnWords","sentence","stopwords","splitSentences","stopword","sentenceSplit","split","push","startIndex","indexOf","endIndex","length","substr","createSentenceParts","sentences","language","sentenceParts","part","foundAuxiliaries","splitSentence"],"mappings":";;;;;;AAAA;;AAIA;;;;AACA;;;;AAGA;;;;AAEA;;;;AAGA;;;;AAIA;;;;AAEA;;;;AAEA;;;;AAIA;;;;AAEA;;;;AAEA;;;;;;AAtBA;AAKA,MAAMA,oBAAoB,6BAA2BC,cAArD;;AAEA,MAAMC,kBAAkB,0BAAxB;;AAEA;;AAIA,MAAMC,iBAAiB,0BAAvB;;AAEA,MAAMC,mBAAmB,4BAAzB;;AAEA;;AAIA,MAAMC,kBAAkB,0BAAxB;;AAEA,MAAMC,oBAAoB,4BAA1B;;AAGA;AACA,MAAMC,oBAAoB;AACzBC,KAAI;AACHC,gBAAcC,sBADX;AAEHC,iBAAe,oCAAcT,eAAd,CAFZ;AAGHU,kBAAgB,oCAAcZ,iBAAd,CAHb;AAIHa,UAAQ;AAJL,EADqB;AAOzBC,KAAI;AACHL,gBAAcM,sBADX;AAEHJ,iBAAe,oCAAcR,cAAd,CAFZ;AAGHS,kBAAgB,oCAAcR,gBAAd,CAHb;AAIHS,UAAQ;AAJL,EAPqB;AAazBG,KAAI;AACHP,gBAAcQ,sBADX;AAEHN,iBAAe,oCAAcN,eAAd,CAFZ;AAGHO,kBAAgB,oCAAcN,iBAAd,CAHb;AAIHO,UAAQ;AAJL;AAbqB,CAA1B;;AAqBA;;;;;;AAMA,SAASK,eAAT,CAA0BC,OAA1B,EAAoC;AACnC,QAAO,mBAAKA,OAAL,EAAc,UAAUC,KAAV,EAAkB;AACtC,SAAO,2BAAaA,KAAb,CAAP;AACA,EAFM,CAAP;AAGA;;AAED;;;;;;;AAOA,SAASC,YAAT,CAAuBC,QAAvB,EAAiCC,SAAjC,EAA6C;AAC5C,OAAMC,iBAAiB,EAAvB;;AAEA;AACA,wBAASD,SAAT,EAAoB,UAAUE,QAAV,EAAqB;AACxC,QAAMC,gBAAgBJ,SAASK,KAAT,CAAgBF,QAAhB,CAAtB;AACA,MAAK,CAAE,uBAASC,cAAe,CAAf,CAAT,CAAP,EAAuC;AACtCF,kBAAeI,IAAf,CAAqBF,cAAe,CAAf,CAArB;AACA;AACD,QAAMG,aAAaP,SAASQ,OAAT,CAAkBL,QAAlB,CAAnB;AACA,QAAMM,WAAWT,SAASU,MAA1B;AACAV,aAAW,2BAAaA,SAASW,MAAT,CAAiBJ,UAAjB,EAA6BE,QAA7B,CAAb,CAAX;AACA,EARD;;AAUA;AACAP,gBAAeI,IAAf,CAAqBN,QAArB;AACA,QAAOE,cAAP;AACA;;AAED;;;;;;;;AAQA,SAASU,mBAAT,CAA8BC,SAA9B,EAAyCC,QAAzC,EAAoD;AACnD,OAAMxB,iBAAiBL,kBAAmB6B,QAAnB,EAA8BxB,cAArD;AACA,OAAMH,eAAeF,kBAAmB6B,QAAnB,EAA8B3B,YAAnD;AACA,OAAM4B,gBAAgB,EAAtB;AACA,wBAASF,SAAT,EAAoB,UAAUG,IAAV,EAAiB;AACpC,QAAMC,mBAAmBrB,gBAAiBoB,KAAKlB,KAAL,CAAYR,kBAAkB,EAA9B,CAAjB,CAAzB;AACAyB,gBAAcT,IAAd,CAAoB,IAAInB,YAAJ,CAAkB6B,IAAlB,EAAwBC,gBAAxB,EAA0ChC,kBAAmB6B,QAAnB,EAA8BvB,MAAxE,CAApB;AACA,EAHD;AAIA,QAAOwB,aAAP;AACA;;AAED;;;;;;;;AAQA,SAASG,aAAT,CAAwBlB,QAAxB,EAAkCc,QAAlC,EAA6C;AAC5C,OAAMzB,gBAAgBJ,kBAAmB6B,QAAnB,EAA8BzB,aAApD;AACA,OAAMY,YAAYD,SAASF,KAAT,CAAgBT,aAAhB,KAAmC,EAArD;AACA,OAAMa,iBAAiBH,aAAcC,QAAd,EAAwBC,SAAxB,CAAvB;AACA,QAAOW,oBAAqBV,cAArB,EAAqCY,QAArC,CAAP;AACA;;kBAEcI,a","file":"getSentencePartsSplitOnStopwords.js","sourcesContent":["import { forEach } from \"lodash-es\";\nimport { isEmpty } from \"lodash-es\";\nimport { map } from \"lodash-es\";\n\nimport arrayToRegex from \"../../../stringProcessing/createRegexFromArray.js\";\nimport stripSpaces from \"../../../stringProcessing/stripSpaces.js\";\n\n// German-specific imports.\nimport SentencePartGerman from \"../../german/passiveVoice/SentencePart.js\";\n\nimport auxiliariesGermanFactory from \"../../german/passiveVoice/auxiliaries.js\";\n\nconst auxiliariesGerman = auxiliariesGermanFactory().allAuxiliaries;\nimport stopwordsGermanFactory from \"../../german/passiveVoice/stopwords.js\";\nconst stopwordsGerman = stopwordsGermanFactory();\n\n// Dutch-specific imports.\nimport SentencePartDutch from \"../../dutch/passiveVoice/SentencePart.js\";\n\nimport stopwordsDutchFactory from \"../../dutch/passiveVoice/stopwords.js\";\nconst stopwordsDutch = stopwordsDutchFactory();\nimport auxiliariesDutchFactory from \"../../dutch/passiveVoice/auxiliaries.js\";\nconst auxiliariesDutch = auxiliariesDutchFactory();\n\n// Polish-specific imports.\nimport SentencePartPolish from \"../../polish/passiveVoice/SentencePart.js\";\n\nimport stopwordsPolishFactory from \"../../polish/passiveVoice/stopwords.js\";\nconst stopwordsPolish = stopwordsPolishFactory();\nimport auxiliariesPolishFactory from \"../../polish/passiveVoice/auxiliaries.js\";\nconst auxiliariesPolish = auxiliariesPolishFactory();\n\n\n// The language-specific variables.\nconst languageVariables = {\n\tde: {\n\t\tSentencePart: SentencePartGerman,\n\t\tstopwordRegex: arrayToRegex( stopwordsGerman ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesGerman ),\n\t\tlocale: \"de_DE\",\n\t},\n\tnl: {\n\t\tSentencePart: SentencePartDutch,\n\t\tstopwordRegex: arrayToRegex( stopwordsDutch ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesDutch ),\n\t\tlocale: \"nl_NL\",\n\t},\n\tpl: {\n\t\tSentencePart: SentencePartPolish,\n\t\tstopwordRegex: arrayToRegex( stopwordsPolish ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesPolish ),\n\t\tlocale: \"pl_PL\",\n\t},\n};\n\n/**\n * Strips spaces from the auxiliary matches.\n *\n * @param {Array} matches A list with matches of auxiliaries.\n * @returns {Array} A list with matches with spaces removed.\n */\nfunction sanitizeMatches( matches ) {\n\treturn map( matches, function( match ) {\n\t\treturn stripSpaces( match );\n\t} );\n}\n\n/**\n * Splits sentences into sentence parts based on stopwords.\n *\n * @param {string} sentence The sentence to split.\n * @param {Array} stopwords The array with matched stopwords.\n * @returns {Array} The array with sentence parts.\n */\nfunction splitOnWords( sentence, stopwords ) {\n\tconst splitSentences = [];\n\n\t// Split the sentence on each found stopword and push this part in an array.\n\tforEach( stopwords, function( stopword ) {\n\t\tconst sentenceSplit = sentence.split( stopword );\n\t\tif ( ! isEmpty( sentenceSplit[ 0 ] ) ) {\n\t\t\tsplitSentences.push( sentenceSplit[ 0 ] );\n\t\t}\n\t\tconst startIndex = sentence.indexOf( stopword );\n\t\tconst endIndex = sentence.length;\n\t\tsentence = stripSpaces( sentence.substr( startIndex, endIndex ) );\n\t} );\n\n\t// Push the remainder of the sentence in the sentence parts array.\n\tsplitSentences.push( sentence );\n\treturn splitSentences;\n}\n\n/**\n * Creates sentence parts based on split sentences.\n\n * @param {Array}   sentences   The array with split sentences.\n * @param {string}  language    The language for which to create sentence parts.\n *\n * @returns {Array} The array with sentence parts.\n */\nfunction createSentenceParts( sentences, language ) {\n\tconst auxiliaryRegex = languageVariables[ language ].auxiliaryRegex;\n\tconst SentencePart = languageVariables[ language ].SentencePart;\n\tconst sentenceParts = [];\n\tforEach( sentences, function( part ) {\n\t\tconst foundAuxiliaries = sanitizeMatches( part.match( auxiliaryRegex || [] ) );\n\t\tsentenceParts.push( new SentencePart( part, foundAuxiliaries, languageVariables[ language ].locale ) );\n\t} );\n\treturn sentenceParts;\n}\n\n/**\n * Splits the sentence into sentence parts based on stopwords.\n *\n * @param {string} sentence The text to split into sentence parts.\n * @param {string} language The language for which to split sentences.\n *\n * @returns {Array} The array with sentence parts.\n */\nfunction splitSentence( sentence, language ) {\n\tconst stopwordRegex = languageVariables[ language ].stopwordRegex;\n\tconst stopwords = sentence.match( stopwordRegex ) || [];\n\tconst splitSentences = splitOnWords( sentence, stopwords );\n\treturn createSentenceParts( splitSentences, language );\n}\n\nexport default splitSentence;\n"]}